<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wedding.app.dao.AdminDAO">
	<select id="adList" resultType="ReservationVO">
		select no, userid, hallname, date_format(dday,'%Y-%c-%e') dday, scale, date_format(dday,'%Y-%c-%e') cday, dress, makeup, stabdby from reservation
	</select>
	<update id="reservationMultiCancel">
		update reservation set stabdby='예약취소' 
		<where>
			<foreach item="item" index="index" collection="noList" open="no in (" separator="," close=")">
				${item}
			</foreach>
		</where>
	</update>
	<update id="reservationMultiComplete">
		update reservation set stabdby='예약확정' 
		<where>
			<foreach item="item" index="index" collection="noList" open="no in (" separator="," close=")">
				${item}
			</foreach>
		</where>
	</update>
	<update id="reservationMultiChange">
		update reservation set dday=#{dday} 
		<where>
			<foreach item="item" index="index" collection="noList" open="no in (" separator="," close=")">
				${item}
			</foreach>
		</where>
	</update>
	<select id="adCheck" resultType="DaychangeVO">
		select userid, change, date_format(changeday,'%Y-%c-%e') changeday from daychange 
	</select>
	
</mapper>